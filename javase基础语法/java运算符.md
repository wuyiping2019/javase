# 1 运算符和表达式

- 关键字：数据类型自动提升\自增\自减\强制类型转换\数据截断\三元表达式
- 运算符：对常量和变量进行操作的符号，运算符可以分为算术运算符、赋值运算符、关系运算符、逻辑运算符、三元运算符、进制和位运算符，只有相同类型的或类型可以进行转换的数据才能进行运算符的操作；
- 表达式：用运算符把常量和变git 量连接起来的**符合java语法**的式子，表达式是具有值的，是常量和变量通过运算符进行运算得到的结果；
- 举例说明:

```java
int a = 10;
int b = 20;
int c = a + b;//其中'+'是算术运算符，'a+b'是表达式，将表达式赋值给变量c
```

## 1.1 算数运算符

算数运算符分为'+'、'-'、'*'、'/'、'%'、'++'、'--'；

### 1.1.1 '+'运算符

- '+'可以用于数值类型数据的操作，数值类型包括byte、char、short、int、long、float和double等7种基本数据;
- 当byte\char\short\int等4种数据进行'+'操作时，会进行默认数据类型提升，都提升为int类型，再进行运算;当存在数据类型大于int的数据时，会将数据提升为最大的数据类型进行运算;
- char表示字符类型，ASCII码中每个字节到字符都有一套对应关系，因此按对应关系将char类型的数据转成byte，然后byte提升为int即可，其中'a'对应97,'A'对应65,'0'对应48;

- '+'可以进行字符串类型数据的操作，此时'+'可以起到连接字符串的作用，其他任意数据类型的数据都可以转换为字符串，因此字符串可以与任意类型的数据进行'+'操作；

- '+'可以用于混合计算，如(10 + 20 + "ab")，此时会按照顺序，先执行(10 + 20 = 30),后执行(30 + 'a' = '30a');

## 1.1.2 '++'/'--'运算符

- '++'/'--'是'自增'/'自减'运算符，表示变量值加1/减1;
- '++'/'--'可以放置在变量的前面，也可以放置在变量的后面；
- 当'++'/'--'运算符单独使用,如(++a)/(--a)/(a++),并没有与其他的运算操作时，'++'/'--'放置在变量前或后没有区别;
- 当'++'/'--'结合其他运算符一起使用时，'++'/'--'放置的位置会直接影响该表达式的值；当'++'/'--'放置在变量前，表示先执行'++'/'--'操作，然后进行表达式的运算，即得出表达式的值，如果有赋值运算符，赋予变量的值就是这个表达式的值；如果'++'/'--'放置在变量的后面，表示先执行表达式的操作，即得出表达式的值，如果有赋值运算符，则赋予变量的值就是表达式的值，然后再进行'自增'/'自减'操作；

```java
    @Test
    public void test1(){
        int a = 10;
        /**
        * 先执行a + 20,得到表达式的值为30,然后进行自增操作, a+1
        * 此时表达式的值30,变量a的值为11
        * 将表达式值30赋值给变量b
        **/
        int b = a++ + 20;
        a = 10;
        /**
        * 先执行a + 1,此时a的值为11,然后执行a+20,得到表达式的值为31
        * 此时表达式的值31,变量a的值为11
        * 将表达式值31赋值给变量c
        **/
        int c = ++a + 20;
        System.out.println(b); //30
        System.out.println(c); //31
    }
```

### 1.2 赋值运算符

- 赋值运算符的符号有'='、'+='、'-='、'/='、'%='等;
- 如(a += b)表示(a = a + b),需要注意的是这两者并不等价,在使用'展开的表达式'进行运算时，会存在自动类型提示的问题，如果a和b都是short类型的数据,(a + b)表达式得到的是int类型的数据,然后将int类型的数据赋值给short类型的变量a，则会报错；而如果使用了a += b,则不会报错，该表达式隐含了强制类型转换;使用强制类型转换的地方就需要注意类型范围的问题，避免出现数据截断的问题;

### 1.3 关系运算符

- 关系运算符有'=='、'!='、'>='、'<='、'<'、'>'等;
- 关系运算符参与的表达式结果是'true'或'false';

### 1.4 逻辑运算符

- 逻辑运算符有'&'、'|'、'&&'、'||'、'!'、'^'等;
- 逻辑运算符用于连接表达式为true或false的运算符，真和真为真，真和假为假，真或真为真，真或假为真;
- 表达式1[& or |]表达式2,会计算表达式1和表达式2，然后根据逻辑运算符的规则进行运算;
- 表达式1[&& or ||]表达式2,如果根据表达式1的结果就可以得出整个表达式的结果，就不会计算表达式2了;如表达式1&&表达式2,计算表达式1的结果为false，则整个表达式肯定为false,那么就不会计算表达式2了;

```java
    public void test2(){
        int a = 3;
        int b = 4;
        System.out.println(a > 3 && ++b > 4);//false
        System.out.println("a:"+a+" b:"+b);//a:3 b:4
        a = 3;
        b = 4;
        System.out.println(a > 3 & ++b >4);//false
        System.out.println("a:"+a+" b:"+b);//a:3 b:5
    }
```

- '!'表示取反，在此不做赘述;
- '^'表示亦或,符号两边相同为false，不同为true;

### 1.5 三元运算符

- 格式：关系表达式?表达式1:表达式2;
- 如果关系表达式为true，则整个表达式的结果为表达式1的结果;如果关系表达式为false，则整个表达式的结果为表达式2的结果;